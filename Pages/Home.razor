@page "/"
@inject IJSRuntime Js

<PageTitle>Inconfessio</PageTitle>

<center>
    <br/>
    <br/>
    <MudGrid>
        <MudItem md="3" xs="1"></MudItem>
        <MudItem md="6" xs="10">
            @if (State == ConfessionBoxState.ShowConfessionBox)
            {
                <MudCard Elevation="0" Style="background-color: #000f">
                    <MudCardContent>
                        <MudText Typo="Typo.body1">Confissão</MudText>
                        <MudTextField AutoGrow @bind-Value="@Confession" MaxLines="20"/>
                    </MudCardContent>
                </MudCard>
                <MudButton Variant="Variant.Filled" Color="Color.Secondary" OnClick="@SubmitConfession">Confessar</MudButton>
            }
            else if (State == ConfessionBoxState.WaitingResponse)
            {
                <MudCard Elevation="0" Style="background-color: #000f">
                    <MudCardContent>
                        <MudText Typo="Typo.body1">Carregando Salvação</MudText>
                        <br/>
                        <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
                    </MudCardContent>
                </MudCard>                
            }
            else if (State == ConfessionBoxState.ShowResponse)
            {
                <MudCard Elevation="0" Style="background-color: #000f">
                    <MudCardContent>
                        <MudText Typo="Typo.body1">@Response</MudText>
                    </MudCardContent>
                </MudCard>
                <MudButton Variant="Variant.Filled" Color="Color.Secondary" OnClick="@RestartConfession">Recomeçar</MudButton>
            }
        </MudItem>
        <MudItem md="3" xs="1"></MudItem>
    </MudGrid>
</center>